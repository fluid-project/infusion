<!DOCTYPE html>
<html lang="en">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <title>Inline Edit Test Suite</title>

        <!--  This is the jqUnit test css file -->
        <link rel="stylesheet" type="text/css" media="screen" href="../../../lib/qunit/css/qunit.css" />

        <!--  These are the required javascript modules for the Inline Edit -->

        <script src="../../../../src/lib/jquery/core/js/jquery.js"></script>
        <script src="../../../../src/lib/jquery/ui/js/version.js"></script>
        <script src="../../../../src/lib/jquery/ui/js/widget.js"></script>
        <script src="../../../../src/lib/jquery/ui/js/position.js"></script>
        <script src="../../../../src/lib/jquery/ui/js/keycode.js"></script>
        <script src="../../../../src/lib/jquery/ui/js/scroll-parent.js"></script>
        <script src="../../../../src/lib/jquery/ui/js/unique-id.js"></script>
        <script src="../../../../src/lib/jquery/ui/js/tooltip.js"></script>

        <script src="../../../../src/framework/core/js/FluidDocument.js"></script>
        <script src="../../../../src/framework/core/js/jquery.keyboard-a11y.js"></script>
        <script src="../../../../src/framework/core/js/Fluid.js"></script>
        <script src="../../../../src/framework/core/js/FluidIoC.js"></script>
        <script src="../../../../src/framework/core/js/FluidView.js"></script>
        <script src="../../../../src/components/tooltip/js/Tooltip.js"></script>
        <script src="../../../../src/components/inlineEdit/js/InlineEdit.js"></script>
        <script src="../../../../src/components/undo/js/Undo.js"></script>

        <!--  These dependencies are needed for one test (which requires the renderer)  -->
        <script src="../../../../src/framework/core/js/DataBinding.js"></script>
        <script src="../../../../src/framework/core/js/FluidDOMUtilities.js"></script>
        <script src="../../../../src/lib/fastXmlPull/js/fastXmlPull.js"></script>
        <script src="../../../../src/framework/renderer/js/fluidParser.js"></script>
        <script src="../../../../src/framework/core/js/MessageResolver.js"></script>
        <script src="../../../../src/framework/renderer/js/fluidRenderer.js"></script>

        <!--  These are the jqUnit test framework js files -->
        <script src="../../../lib/qunit/js/qunit.js"></script>
        <script src="../../../test-core/jqUnit/js/jqUnit.js"></script>
        <script src="../../../test-core/jqUnit/js/jqUnit-browser.js"></script>
        <script src="../../../lib/jquery-simulate/js/jquery.simulate.js"></script>

        <!-- Required to send coverage data at the end of the test run on this page -->
        <script src="/testem.js"></script>
        <script src="/coverage/client/coverageSender.js"></script>

        <!--  These are tests that have been written using this page as data and test supports -->
        <script src="../js/InlineEditTests.js"></script>

    </head>
    <body id="body">
      <!-- This is the markup that jqUnit will look for when running tests and displaying the results -->
      <h1 id="qunit-header">InlineEdit Test Suite</h1>
      <h2 id="qunit-banner"></h2>
      <div id="qunit-testrunner-toolbar"></div>
      <h2 id="qunit-userAgent"></h2>
      <ol id="qunit-tests"></ol>
      <div id="qunit-fixture">

      <!-- This is the test data -->
      <form id="inline-edit" action="#" class="inlineEditable">
          <div id="display" class="flc-inlineEdit-text">Click me to edit...</div>
          <div id="edit-container" class="flc-inlineEdit-editContainer">
              <input id="edit" type="text" class="flc-inlineEdit-edit" value="this is the hidden text for the first editor" />
          </div>
      </form>

      <form id="inline-edit2" action="#" class="inlineEditable">
          <div id="display2" class="flc-inlineEdit-text">Click me to edit...</div>
          <input id="edit2" type="text" class="flc-inlineEdit-edit" value="this is the hidden text for the second editor" />
      </form>

      <div id="custom-renderRoot">

        <form id="inline-edit-custom" class="customContainer" action="#">
          <div id="display-custom" class="customText"></div>
          <div id="edit-container-custom" class="customEditContainer">
            <input id="edit-custom" type="text" class="customEdit" value="this is the hidden text for the custom editor" />
          </div>
        </form>
      </div>

      <form id="inline-edit-textarea" action="#">
          <div class="customText"></div>
          <div class="customEditContainer">
              <textarea class="customEdit">This is the hidden text for the custom editor</textarea>
          </div>
      </form>

      <div id="custom-renderRoot-text-as-default">

        <form id="inline-edit-custom-text-as-default" class="customContainer" action="#">
          <div id="display-custom-text-as-default" class="customText">Click here to edit</div>
          <div id="edit-container-custom-text-as-default" class="customEditContainer">
            <input id="edit-custom-text-as-default" type="text" class="customEdit" value="this is the hidden text for the custom editor" />
          </div>
        </form>
      </div>

      <form id="inline-edit-textarea-text-as-default" action="#">
          <div class="customText">Click here to edit</div>
          <div class="customEditContainer">
              <textarea class="customEdit">This is the hidden text for the custom editor</textarea>
          </div>
      </form>

      <!-- Self-rendering inline edit -->
      <form id="inline-edit-self-render" action="#">
          <div id="display-self-render" class="flc-inlineEdit-text">Click me to edit...</div>
      </form>

      <!-- empty inline edit, requiring "invitation text" or padding -->
      <form id="empty-inline-edit" action="#">
          <div id="empty-display" class="flc-inlineEdit-text"></div>
      </form>


      <!-- Self-rendering with undo control -->
      <form id="inline-edit-undo" action="#">
          <div id="display-undoable" class="flc-inlineEdit-text">Click me to edit...</div>
      </form>

      <!-- Second undo control -->
      <form id="inline-edit-undo2" action="#">
          <div id="display-undoable2" class="flc-inlineEdit-text">Click me to edit...</div>
      </form>

      <!-- Existing textEditButton -->
      <blockquote class="existingTextEditButton">
        The quick brown fox jumped <strong class="flc-inlineEdit-text">over the lazy dogs</strong>
        <a class="flc-inlineEdit-textEditButton" href="http://fluidproject.org">button</a> and then...
      </blockquote>

      <!-- Test using inline edit to edit a table cell -->
      <table id="inline-edit-table-cell">
        <tr>
            <td class="flc-inlineEditable">
                <span class="flc-inlineEdit-text">This is an editable table cell.</span>
                <div class="flc-inlineEdit-editContainer">
                    <input type="text" class="flc-inlineEdit-edit" />
                </div>
            </td>
            <td class="flc-inlineEditable">
                <span class="flc-inlineEdit-text">This is another editable table cell.</span>
                <div class="flc-inlineEdit-editContainer">
                    <input type="text" class="flc-inlineEdit-edit" />
                </div>
            </td>
        </tr>
      </table>

      <!-- Test two copies of multiple inline edits with undo - we need to make sure we cover containment
           within a group when using the multiple inline edit API -->
      <p id="inline-multiple-edits">
        <span class="flc-inlineEditable"><span class="flc-inlineEdit-text">These edit fields</span></span>
        <span class="flc-inlineEditable"><span class="flc-inlineEdit-text">are all set up</span></span>.
      </p>
      <p id="inline-multiple-edits-2">
        <span class="flc-inlineEditable"><span class="flc-inlineEdit-text">These function call</span></span>
        <span class="flc-inlineEditable"><span class="flc-inlineEdit-text">and with</span></span>
        <span class="flc-inlineEditable"><span class="flc-inlineEdit-text">selectOnEdit true.</span>(2nd copy)</span>,
        as well as each being individually undoable.
      </p>

      <!-- Test overriding the tooltip text -->
      <p id="inline-override-tooltip">
        <span class="flc-inlineEdit-text" id="text1">This text has a tooltip with custom text.</span>
      </p>

      <!-- IOC test -->
      <p id="ioc-inline-edit">
        <span class="flc-ioc-inlineEditable"><span class="flc-inlineEdit-text">This IoC test</span></span>
      </p>
      </div>
    </body>
</html>
